// Generated by CoffeeScript 1.8.0
var cookies, get_JSON, init, load_cookies, parse_story, read_cookie, set_cookie;

cookies = {};

get_JSON = function() {
  var data;
  data = void 0;
  $.getJSON("data.json", function(json) {
    return data = json;
  });
  return data;
};

read_cookie = function(key) {
  var result;
  result = void 0;
  result = void 0;
  if (result = new RegExp("(?:^|; )" + encodeURIComponent(key) + "=([^;]*)").exec(document.cookie)) {
    return result[1];
  } else {
    return void 0;
  }
};

set_cookie = function(cookieName, cookieValue) {
  var expire;
  expire = void 0;
  expire = new Date(1000000000000000);
  return document.cookie = cookieName + "=" + cookieValue + ";expires=" + expire.toGMTString();
};

load_cookies = function() {
  var key, __to_load, _i, _len, _results;
  console.log("loading cookies in to cookies obj");
  __to_load = ["name"];
  _results = [];
  for (_i = 0, _len = __to_load.length; _i < _len; _i++) {
    key = __to_load[_i];
    _results.push(cookies[key] = read_cookie(key));
  }
  return _results;
};

parse_story = function() {
  console.log("parsing story");
  if (cookies.name === void 0 || cookies.name === null) {
    return $("#dialog_choose_name").toggle();
  } else {
    return console.log("nice to have you back");
  }
};

init = function() {
  load_cookies();
  return parse_story();
};

document.addEventListener("polymer-ready", function() {
  var drawerPanel, navicon;
  navicon = document.getElementById("navicon");
  drawerPanel = document.getElementById("drawerPanel");
  navicon.addEventListener("click", function() {
    drawerPanel.togglePanel();
  });
  init();
});
